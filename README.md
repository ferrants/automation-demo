# DataXu Automation Demo
An example of how we automate at DataXu. Presentation here: https://www.dataxu.com/blog/github-meetup-automating-the-build-test-deploy-process-at-dataxu-with-jenkins-ansible-and-aws/

### Create Jenkins AMI
```
cd ansible-playbook
ansible-playbook -v jenkins_ami.yml --private-key /path/to/my/private/key.pem
```

### Deploy Jenkins AMI
Get the AMI ID that was generated by the above play
```
cd ansible-playbook
ansible-playbook -v jenkins_deploy.yml -e ami_id="ami-01234567"
```

### Deploying Job Configuration
Update the `jenkins-jobs/jenkins_demo.ini` with the ip of your jenkins
```
jenkins-jobs --conf jenkins-jobs/jenkins_demo.ini update jenkins-jobs/jenkins.yml 
```

### Running Github-Webhooks
Update variables in `github-webhooks_deploy.yml` or set with `-e` on the command line.
```
cd ansible-playbook
ansible-playbook -v github-webhooks_deploy.yml
```
